{"root":{"data":{"id":"d1fxpa7ijug0","created":1716356785692,"text":"前台数据优化"},"children":[{"data":{"id":"d1fy0m4j6ao0","created":1716357673639,"text":"入口限速","layout_right_offset":{"x":-25.999999612569866,"y":496.9999927282334},"expandState":"expand","layout_mind_offset":{"x":-76.99999885261059,"y":0.9999999850988388}},"children":[{"data":{"id":"d1fxq1h8w2g0","created":1716356845054,"text":"监测","layout":null,"layout_right_offset":{"x":50.99999924004078,"y":102.9999984651804}},"children":[{"data":{"id":"d1fxqjrvby80","created":1716356884878,"text":"RSSI等链路相关信息，阈值确认","layout":null},"children":[]},{"data":{"id":"d1fxqohnyuo0","created":1716356895145,"text":"前台RX/TX，设备TX/RX，统计前后台RX/TX速率，理论山也可以通过RX与TX的比值大致反应当前网络是否异常，待确认","layout":null},"children":[]},{"data":{"id":"d1fxvd12bxs0","created":1716357262018,"text":"主动PING，或通过HTTPS探测网络延时"},"children":[]},{"data":{"id":"d1fxviq4v3k0","created":1716357274417,"text":"被动PING，研究集成可行性"},"children":[]}]},{"data":{"id":"d1fxqadnyeo0","created":1716356864428,"text":"策略","layout":null,"layout_right_offset":{"x":40.99999938905239,"y":81.99999877810484}},"children":[{"data":{"id":"d1fxrsh4dtk0","created":1716356982184,"text":"若延时较高且设备流量高，则触发后台限速，eg:限速为当前总流量的1/2","layout":null},"children":[]},{"data":{"id":"d1fxsu2k0ko0","created":1716357064021,"text":"网络切换，前后台切换，触发解除限速","layout":null},"children":[]}]},{"data":{"id":"d1fxqeskw800","created":1716356874037,"text":"执行","layout":null,"layout_right_offset":{"x":52.99999921023846,"y":80.99999879300594}},"children":[{"data":{"id":"d1fxsct8msg0","created":1716357026453,"text":"对入口进行限速，hashlimit","layout":null},"children":[]},{"data":{"id":"d1fxslanxeg0","created":1716357044920,"text":"对入口解除限速","layout":null},"children":[]}]},{"data":{"id":"d1fydjpaf1c0","created":1716358687098,"text":"技术背景","layout_right_offset":{"x":49.999999254942054,"y":-487.99999272823334}},"children":[{"data":{"id":"d1fydtwdfk80","created":1716358709294,"text":"netfilter hashlimit丢包，TCP等连接包被丢后会触发流控，发送端会减少流量，因此达到限速目的"},"children":[]}]},{"data":{"id":"d1fygogg01k0","created":1716358932540,"text":"场景","layout_right_offset":{"x":69.99999895691894,"y":-463.9999976456165}},"children":[{"data":{"id":"d1fyhf4a8n40","created":1716358990578,"text":"相对出口插队场景大一些，入口流量较大时，通常是下载，看直播等"},"children":[]},{"data":{"id":"d1fyl9sbbts0","created":1716359292426,"text":"弱网环境可以体现出一定优势。"},"children":[]}]}]},{"data":{"id":"d1fy0z7ozls0","created":1716357702129,"text":"出口插队","layout_right_offset":{"x":-27.9999995827676,"y":-410.999993875623},"layout_mind_offset":{"x":76.99999885261059,"y":-0.9999999850988388}},"children":[{"data":{"id":"d1fy42ybrts0","created":1716357945362,"text":"技术背景"},"children":[{"data":{"id":"d1fy50dm4wo0","created":1716358018120,"text":"TC https://tldp.org/HOWTO/Adv-Routing-HOWTO/lartc.qdisc.classless.html"},"children":[]},{"data":{"id":"d1fy53mhhwg0","created":1716358025187,"text":"Android： tc -s qdisc show dev wlan0"},"children":[{"data":{"id":"d1fy66z50z40","created":1716358110846,"text":"出口mq队列后面跟了17个pfifo_fast子队列"},"children":[]}]}]},{"data":{"id":"d1fybc86low0","created":1716358514098,"text":"场景"},"children":[{"data":{"id":"d1fybl97csw0","created":1716358533751,"text":"比较小，出口流量较大时，通常是上传，同步设备文件到云端，进行直播等，因此大部分使用场景插队效果可能体现不出来，因为当今带宽已经足够处理这些场景。"},"children":[]},{"data":{"id":"d1fyl3yqtx40","created":1716359279755,"text":"弱网环境可以体现出一定优势。"},"children":[]}]},{"data":{"id":"d1fy1fjxkio0","created":1716357737697,"text":"策略"},"children":[{"data":{"id":"d1fy1r0r1p40","created":1716357762659,"text":"特定应用切换至前台"},"children":[]}]},{"data":{"id":"d1fy1nttqzs0","created":1716357755710,"text":"动作"},"children":[{"data":{"id":"d1fy20mp5v40","created":1716357783577,"text":"将特定前台应用数据包tos设为0x10(Minimize Delay) or dscp为0xB8"},"children":[]}]}]}]},"template":"default","theme":"fresh-blue","version":"1.4.43"}